<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>5. 列表 - 杨小哥博客</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">杨小哥博客</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">算法 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../算法/数据结构和算法思维导图.md">数据结构和算法思维导图</a>
</li>
                                    
<li >
    <a href="../../算法/滑动窗口原理/">滑动窗口原理</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">排序算法</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../算法/排序算法时间复杂度/">1. 排序算法时间复杂度</a>
</li>
            
<li >
    <a href="../../算法/排序算法/">2. 基本排序算法</a>
</li>
            
<li >
    <a href="../../算法/分治法和归并排序/">3. 分治法和归并排序</a>
</li>
            
<li >
    <a href="../../算法/快速排序/">4. 快速排序</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../算法/位运算/">位运算</a>
</li>
                                    
<li >
    <a href="../../算法/递归/">递归</a>
</li>
                                    
<li >
    <a href="../../算法/复杂度分析-上/">1. 复杂度分析-上</a>
</li>
                                    
<li >
    <a href="../../算法/复杂度分析-下/">2. 复杂度分析-下</a>
</li>
                                    
<li >
    <a href="../../算法/数组/">3. 数组</a>
</li>
                                    
<li >
    <a href="../../算法/链表-上/">4. 链表-上</a>
</li>
                                    
<li >
    <a href="../../算法/链表-下/">5. 链表-下</a>
</li>
                                    
<li >
    <a href="../../算法/栈/">6. 栈</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">lua <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../lua/表的构造/">lua 表的构造</a>
</li>
                                    
<li >
    <a href="../../lua/select函数/">lua select 函数</a>
</li>
                                    
<li >
    <a href="../../lua/opp/">lua 面向对象</a>
</li>
                                    
<li >
    <a href="../../lua/pairs和ipairs/">pairs和ipairs</a>
</li>
                                    
<li >
    <a href="../../lua/错误处理 pcall & xpcall/">错误处理 pcall & xpcall</a>
</li>
                                    
<li >
    <a href="../../lua/协程实现生产者消费者/">协程实现生产者消费者</a>
</li>
                                    
<li >
    <a href="../../lua/lua 实现单链表/">lua 单链表</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">skynet <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../skynet/并发编程和并行编程/">1. 并发编程和并行编程</a>
</li>
                                    
<li >
    <a href="../../skynet/skynet 基于 Actor 模式的开源框架/">2. skynet 基于 Actor 模式的开源框架</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">python <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">python 语法</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../python相关介绍/">1. python相关介绍</a>
</li>
            
<li >
    <a href="../python基础语法/">2. python基础语法</a>
</li>
            
<li >
    <a href="../python字符串/">3. 字符串</a>
</li>
            
<li >
    <a href="../python循环/">4. 循环</a>
</li>
            
<li class="active">
    <a href="./">5. 列表</a>
</li>
            
<li >
    <a href="../python元组/">6. 元组</a>
</li>
            
<li >
    <a href="../python字典/">7. 字典</a>
</li>
            
<li >
    <a href="../python集合/">8. 集合</a>
</li>
            
<li >
    <a href="../python函数/">9. 函数</a>
</li>
            
<li >
    <a href="../python作用域/">10. 作用域</a>
</li>
            
<li >
    <a href="../python高阶函数/">11. 高阶函数</a>
</li>
            
<li >
    <a href="../python递归/">12. 递归</a>
</li>
            
<li >
    <a href="../python装饰器/">13. 装饰器</a>
</li>
            
<li >
    <a href="../python模块/">14. 模块</a>
</li>
            
<li >
    <a href="../python包/">15. 包</a>
</li>
            
<li >
    <a href="../python异常/">16. 异常</a>
</li>
            
<li >
    <a href="../python迭代器和生成器/">17. 迭代器和生成器</a>
</li>
            
<li >
    <a href="../字节串和字节数组/">18. 字节串和字节数组</a>
</li>
            
<li >
    <a href="../文件读写/">19. 文件读写</a>
</li>
            
<li >
    <a href="../字符编码/">20. 字符编码</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">21. 面向对象编程</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../面向对象编程/">基本语法</a>
</li>
            
<li >
    <a href="../继承派生/">继承派生</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../迭代器（高级）/">22. 迭代器（高级）</a>
</li>
            
<li >
    <a href="../补充知识点/">补充知识点</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">django</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../django/1_django介绍及安装/">1. django介绍及安装</a>
</li>
            
<li >
    <a href="../../django/2_django中的路由/">2. django中的路由</a>
</li>
            
<li >
    <a href="../../django/3_django中的HttpRequest对象/">3. HttpRequest对象</a>
</li>
            
<li >
    <a href="../../django/4_django中的session和cookie/">4. session和cookie</a>
</li>
            
<li >
    <a href="../../django/5_django中的模板/">5. django中的模板</a>
</li>
            
<li >
    <a href="../../django/6_django中的模型/">6. django中的模型</a>
</li>
            
<li >
    <a href="../../django/7_django模型中的关系映射/">7. 模型中的关系映射</a>
</li>
            
<li >
    <a href="../../django/8_django自带的后台管理/">8. 自带的后台管理</a>
</li>
            
<li >
    <a href="../../drf/1.django视图之CBV的基本使用/">9. django视图之CBV的基本使用</a>
</li>
            
<li >
    <a href="../../drf/2.CBV中解决csrf认证的问题/">10. CBV中解决csrf认证的问题</a>
</li>
            
<li >
    <a href="../../drf/几个django 2.2和mysql使用的坑/">几个django 2.2和mysql使用的坑</a>
</li>
            
<li >
    <a href="../../django/Django2 DEBUG=False后静态文件无法加载/">Django2 DEBUG=False后静态文件无法加载</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">工具 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../tools/linux操作系统/">linux操作系统</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">git</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../tools/git/unpack-objects/">unpack-objects failed</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">理财 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../理财/基金理财/">基金理财</a>
</li>
                                    
<li >
    <a href="../../理财/股票理财/">股票理财</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../python循环/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../python元组/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#_1">问题</a></li>
        <li class="main "><a href="#_2">列表的定义</a></li>
        <li class="main "><a href="#_3">创建空列表的字面值表达式</a></li>
        <li class="main "><a href="#_4">创建非空的列表的字面值</a></li>
        <li class="main "><a href="#list">列表的构造函数list</a></li>
        <li class="main "><a href="#_5">列表的运算</a></li>
        <li class="main "><a href="#_6">列表的比较运算</a></li>
        <li class="main "><a href="#_7">列表是可迭代对象</a></li>
        <li class="main "><a href="#in-not-in">列表的 in / not in 运算符</a></li>
        <li class="main "><a href="#_8">列表的索引操作</a></li>
        <li class="main "><a href="#_9">列表的索引赋值</a></li>
        <li class="main "><a href="#_10">列表的切片</a></li>
        <li class="main "><a href="#_11">列表的切片赋值</a></li>
        <li class="main "><a href="#_12">切片的注意事项</a></li>
        <li class="main "><a href="#_13">列表推导式</a></li>
        <li class="main "><a href="#_14">列表推导式的嵌套</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h3 id="_1">问题</h3>
<p>如何将计算机运算的数据临时保存在一个地方，同时又方便添加，删除，修改等操作</p>
<h3 id="_2">列表的定义</h3>
<ul>
<li>列表是一种容器</li>
<li>列表是可以改变的序列</li>
<li>列表是由一系列特定元素组成的，元素与元素之间可能没有任何的关联关系，但他们之间有先后顺序关系</li>
</ul>
<h3 id="_3">创建空列表的字面值表达式</h3>
<ul>
<li>[]  # 创建一个空列表</li>
<li>l = []  # 变量l 绑定一个新创建的空列表</li>
</ul>
<h3 id="_4">创建非空的列表的字面值</h3>
<pre><code class="python">    l = [1 ,2 ,3, 4]  # 变量l 绑定一个新创建的且含有四个元素的列表
    l = ['BeiJing', 'ShangHai', 'ShenZhen']
    l = [1, 'Two', 3.14, '四']
    l = [1, 2, [3.1, 3.2, 3.3], 4]
</code></pre>

<h3 id="list">列表的构造函数list</h3>
<ul>
<li>list() 生成一个空的列表，等同于[]</li>
<li>list(iterable) 用有、可迭代对象创建一个列表</li>
</ul>
<pre><code>    l = list()  # l = []
    l = list('hello')  # l = ['h', 'e', 'l', 'l', 'o']
    l = list(range(5))  # l = [0, 1, 2, 3, 4]
</code></pre>

<h3 id="_5">列表的运算</h3>
<pre><code>算术运算：
    + += * *=（运算规则和字符串的运算规则）
+ 用于拼接列表，生成新的列表
    x = [1, 2, 3]
    y = [4, 5, 6]
    z = x + y
+= 用于原列表与右侧可迭代对象追加来修改原列表
    语法：
        列表 += 可迭代对象
    示例
        x = [1, 2, 3]
        y = [4, 5, 6]
        x += y  # x = [1, 2, 3, 4, 5, 6]
        x += 'ABC'  # x = [1, 2, 3, 4, 5, 6, 'A', 'B', 'C']

    += 是改变原来的列表对象，并不会创建新的列表
        x = [1, 2, 3]
        print(id(x))
        x += [4 ,5, 6]
        print(id(x))

* 生成重复的列表
    x = [1, 2] * 3  # x = [1, 2, 1, 2, 1 ,2]

*= 生成重复的列表， 并改变对列表的绑定
    x = [1, 2, 3]
    x *= 2  # x = [1, 2, 3, 1, 2, 3]
</code></pre>

<h3 id="_6">列表的比较运算</h3>
<pre><code>    运算符 &lt; &lt;= &gt; &gt;= != ==
    比较规则，与字符串的比较规则相同

    示例
        [1, 2, 3] &lt; [1, 2, 4]  # True
        [1, 2, 3] &lt; [3, 2, 1]  # True
</code></pre>

<h3 id="_7">列表是可迭代对象</h3>
<pre><code class="python">l = [1, 3, 5, 7]
    for i in l:
        print(i)
</code></pre>

<h3 id="in-not-in">列表的 in / not in 运算符</h3>
<ul>
<li>判断一个值是否存在于列表中，如果存在返回True,否则返回 False</li>
<li>同字符串的 in 运算符 用于检查一个值是否存在于列表中，如果存在返回True, 否则返回False</li>
</ul>
<pre><code class="python">  x = [1, 'Two', 3, '四']
  3 in x  # 返回 True
  '3' in x  # 返回 False
  10 in x  # False
  10 not in x  # True
</code></pre>

<h3 id="_8">列表的索引操作</h3>
<pre><code class="python">  语法:
    列表[整数表达式]
  用法:
    与字符串索引的用法相同(分为正向索引和反向索引)
　　示例:
    x = [1,3,5,7]
    print(x[1])  # 3　　
    print(x[-1])  # 7
</code></pre>

<h3 id="_9">列表的索引赋值</h3>
<pre><code>  列表是可变的，可以通过索引赋值改变列表中的元素
  语法:
    列表[整数表达式] = 表达式
  作用:
    改变列表中索引的绑定关系
  示例:
    x = [1, 2, 3, 4]
    x[2] = 3.14  # 改变了第三个元素的值
</code></pre>

<h3 id="_10">列表的切片</h3>
<pre><code>  列表[:]
  列表[::]
  列表的切片取值返回一个新的列表，规则等同于字符串切片规则

  示例:
    x = [1, 2, 3, 4, 5, 6, 7, 8]
    x[::2]  # [1, 3, 5, 7]
    y = [1::3]  # y = [2, 5, 8]
</code></pre>

<h3 id="_11">列表的切片赋值</h3>
<pre><code>  作用:
    可以改变原列表的数据排列，可以插入和修改数据
    可以用切片改变列表的对应元素的值
  语法:
    列表[切片]　= 可迭代对象
　　说明:
    切片赋值的赋值运算符(=) 的右侧必须是一个可迭代对象

  示例:
    L = [2, 3, 4]
    L[0:1] = [1.1, 2.2]  # L = [1.1, 2.2, 3, 4]
    L[2:] = [3.3, 4.4, 5.5]  # L = [1.1, 2.2, 3.3, 4.4, 5.5]
    L[:] = [3, 4] 　# L = [3, 4]
    L[0:0] = [1, 2]  # L = [1, 2, 3, 4]
    L = [3, 4]
    L[1:1] = [3.14]  # L = [3, 3.14, 4]
    L = [3, 4]
    L[-1:-1] = [5, 6] # L = [3, 4, 5, 6]
    L = [2, 3, 4]
    L[1:2] = &quot;ABC&quot;  # L = [2, 'A', 'B', 'C', 4]
    L = [2, -1, 7]
    L[1:2] = range(3, 7)  # L=[2, 3, 4, 5, 6, 7]
</code></pre>

<h3 id="_12">切片的注意事项</h3>
<pre><code>对于步长不等于1的切片赋值,赋值运算符的右侧的可迭代对象提供元素的个数一定要等于切片切出的段数
  示例:
    L = [1, 2, 3, 4, 5, 6, 7, 8]
    L[1::2] = &quot;ABCD&quot;  # 对的
    L[1::2] = &quot;ABCDEF&quot;  # 错的
</code></pre>

<p><strong>练习</strong></p>
<pre><code>  已知有列表:
    L = [3, 5]
  用索引和切片操作,将原列表改变为:
    L = [1, 2, 3, 4, 5, 6]
  将列表反转,删除最后一个元素后打印此列表
    ....
    print(L)  # [6, 5, 4, 3, 2]

  写程序,让用户循环输入一些整数,当输入-1时结束输入,将这些整数存于列表L中
    1) 打印您共输入了多少个有效的数
    2) 打印您输入的数的最大数是?
    3) 打印您输入的最小数是多少?
    4) 打印您输入的这些数的平均值是多少?

  写一个程序，让用户输入很多个正整数，当输入小于零的数时结束输入
　　1) 打印这些数中最大的一个数
　　2) 打印这些数中第二大的一个数
   3) 删除最小的一个数
   4) 按原来顺序打印出剩余的这些数
</code></pre>

<h3 id="_13">列表推导式</h3>
<p>list comprehension:   列表推导式是用可迭代对象创建列表的表达式</p>
<pre><code>  作用:
    用简易方法生成列表
  语法:
    [表达式 for 变量 in 可迭代对象]
    或
    [表达式 for 变量 in 可迭代对象 if 真值表达式]
  示例:
    # 生成一个数值为1~9的平方的列表
    # [1, 4, 9, 16, .... 81]
    # 不用推导式:
    L = []
    for i in range(1, 10):
        L.append(i**2)
    # 推导式实现
    L = [i ** 2 for i in range(1, 10)]
</code></pre>

<pre><code>用列表推导式生成 1~100以内奇数的列表, 结果是:[1, 3, 5, 7, ...., 99]
  答案:
    [i for i in range(1, 100, 2)]

    或
    [i for i in range(1, 100) if i % 2 == 1]
</code></pre>

<p><strong>练习</strong></p>
<p>输入一个开始的整数用begin绑定<br />
  输入一个结束的整数用end绑定<br />
  将从begin开始,到end结束(不包含end)的所有偶数存于列表中<br />
  并打印此列表<br />
  (可以使用列表推导式完成,也可以用循环语句来完成  </p>
<h3 id="_14">列表推导式的嵌套</h3>
<pre><code>语法:
    [表达式
      for 变量1 in 可迭代对象1 if真值表达式1
        for 变量2 in 可迭代对象2 if 真值表达式2 ...]
</code></pre>

<pre><code>示例:
    #将列表[10, 20, 30] 中的元素与列表[1,2,3]元素分别相加,将得到的元素放于一个列表中

    L = [x + y
          for x in [10, 20, 30]
            for y in [1,2,3]]
    print(L)  #[11, 12, 13, 21, 22, 23, 31,32,33]
</code></pre>

<p><strong>练习</strong></p>
<pre><code>  1. 用字符串&quot;ABC&quot;和字符串&quot;123&quot; 生成如下列表
   ['A1', 'A2', 'A3', 'B1', 'B2', 'B3', 'C1', 'C2', 'C3', ]
   答案:
     [ x + y for x in &quot;ABC&quot; for y in &quot;123&quot;]

  2. 已知有一个字符串:
    s = '100,200,300,500,800'
    将其转化为列表,列表的内部是整数
    L = [100, 200, 300, 500, 800]
  答案:
    L = [int(x) for x in s.split(',')]
</code></pre>

<pre><code>  1. 有一些数存在列表中, 如:
     L = [1, 3, 2, 1, 6, 4, 2, ...., 98, 82]
    1) 将列表L中出现的数字存于另一个列表L2中
      要求:
         重复出现多次的数字只在L2列表中保留一份(去重)
    2) 将列表中出现两次的数字存于L3列表中(在L3列表中保留一份)

  2. 计算出100以内的素数,将这些素数存于列表中,最后打印出列表中的这些素数

  3. 生成前40个斐波那契数(Fibonacci)
    1 1 2 3 5 8 13 21 ......
    要求将这数整数存于列表L中,最后打印出这些数
    (斐波那契的前两个是1, 1, 之后的数是前两个数的和)
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
